<div class="container-fluid">
  <div class="row">
      <div class="col-md-12 pt-4 pb-4 fondo-color">
          <h2 class="text-center">Registro de Productos</h2>
      </div>
  </div>
</div>

<div class="container">
   
    
    <button type="button" class="btn btn-primary float-right mb-2" [routerLink]="['/Crear_Producto']" routerLinkActive='active' >Crear Producto</button>
    <!--<button type="button" class="btn btn-primary float-right mb-2" data-toggle="modal" data-target="#Crear" >Crear Producto</button>-->
    
    <div class="md-form form-group mb-3">
      <input mdbInput type="text" id="form1" oninput="this.value = this.value.toUpperCase()"
        style="text-transform: uppercase; width:10cm" class="form-control" [(ngModel)]="buscar">
      <label for="form1" class="">Buscar</label>
    </div>
   
    <table class="table table-hover">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Precio Real</th>
          <th>Impuesto</th>
          <th>Detalles</th>
          <th>Modificar</th>
          <th>Eliminar</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let producto of service.productos">
          <td *ngIf=" producto.IdProducto.includes(buscar) || producto.Nombre.includes(buscar)  || buscar==null || buscar==' '">
            {{producto.IdProducto}}
          </td>

          <td *ngIf=" producto.IdProducto.includes(buscar) || producto.Nombre.includes(buscar)  || buscar==null || buscar==' '">
            {{producto.Nombre}}
          </td>

          <td *ngIf=" producto.IdProducto.includes(buscar) || producto.Nombre.includes(buscar)  || buscar==null || buscar==' '">
            {{producto.PrecioReal}}
          </td>

          <td *ngIf=" producto.IdProducto.includes(buscar) || producto.Nombre.includes(buscar)  || buscar==null || buscar==' '">
            {{producto.IdTipoImpuestoNavigation.Valor}} %
          </td>

          <td *ngIf=" producto.IdProducto.includes(buscar) || producto.Nombre.includes(buscar)  || buscar==null || buscar==' '"><button type="button" class="btn btn-primary"  data-toggle="modal" data-target="#Detalles" (click)="productoDetalle(producto)"  >Detalles</button></td>
          <td *ngIf=" producto.IdProducto.includes(buscar) || producto.Nombre.includes(buscar)  || buscar==null || buscar==' '"><button type="button" class="btn btn-primary" (click)="productoSelect(producto)"  [routerLink]="['/Modificar_Producto']" >Modificar</button></td>
          <td *ngIf=" producto.IdProducto.includes(buscar) || producto.Nombre.includes(buscar)  || buscar==null || buscar==' '"><button type="button" class="btn btn-primary"  (click)="productoSelect(producto)" [routerLink]="['/Eliminar_Producto']">Eliminar</button></td>

           <!-- Modal Detalles Producto-->
            <div class="modal" id="Detalles">
              <div class="modal-dialog">
                <div class="modal-content">
                
                 
                  <div class="modal-header">
                    <h4 class="modal-title">Detalles Producto </h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                  </div>
                  
                 
                  <div class="modal-body">
                    <app-detalles-producto [_pro] = "_pro" [_impuesto]= "_impuesto" [_inventario] = "_inventario" [_categoria]="_categoria" [_medida]="_medida"></app-detalles-producto>
                  </div>
                  
                 
                  <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
                  </div>
                  
                </div>
              </div>
            </div>
        </tr>
      </tbody>
    </table>
  
  </div>